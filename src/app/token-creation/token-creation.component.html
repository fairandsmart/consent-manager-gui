<mat-card *ngIf="form" [formGroup]="form">
  <mat-card-title>{{'TOKEN.FORM.TITLE' | translate}}</mat-card-title>

  <mat-card-content>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.SUBJECT.LABEL' | translate}}</mat-label>
      <input matInput formControlName="subject" autocomplete="off">
    </mat-form-field>

    <mat-checkbox formControlName="vertical" checked>{{'TOKEN.FORM.ORIENTATION.LABEL' | translate}}</mat-checkbox>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.HEADER.LABEL' | translate}}</mat-label>
      <input matInput formControlName="headerKey" autocomplete="off">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.TREATMENTS.LABEL' | translate}}</mat-label>
      <input matInput formControlName="elementsKeys" autocomplete="off">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.FOOTER.LABEL' | translate}}</mat-label>
      <input matInput formControlName="footerKey" autocomplete="off">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.VALIDITY.LABEL' | translate}}</mat-label>
      <input matInput formControlName="validity" autocomplete="off">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.RECEIPT.LABEL' | translate}}</mat-label>
      <mat-select formControlName="receiptType">
        <mat-option *ngFor="let type of TYPES" [value]="type">{{'TOKEN.FORM.RECEIPT.VALUES.' + type | translate}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.LOCALE.LABEL' | translate}}</mat-label>
      <input matInput formControlName="locale" autocomplete="off">
    </mat-form-field>

    <mat-checkbox formControlName="forceDisplay" checked>{{'TOKEN.FORM.FORCE_DISPLAY.LABEL' | translate}}</mat-checkbox>

    <mat-form-field appearance="outline">
      <mat-label>{{'TOKEN.FORM.EMAIL.LABEL' | translate}}</mat-label>
      <input matInput formControlName="optoutEmail" autocomplete="off">
    </mat-form-field>

    <mat-checkbox formControlName="preview" checked>{{'TOKEN.FORM.PREVIEW.LABEL' | translate}}</mat-checkbox>

    <mat-card-actions>
      <button mat-button color="primary" [disabled]="form.disabled" (click)="submit()">{{'COMMON.BUTTONS.SUBMIT' | translate}}</button>
    </mat-card-actions>

    <mat-card *ngIf="token.length > 0">
      <mat-card-title>{{'TOKEN.FORM.TOKEN.LABEL' | translate}}</mat-card-title>
      <div class="token">{{token}}</div>
    </mat-card>

  </mat-card-content>
</mat-card>

<mat-card *ngIf="formUrl">
  <mat-card-title>{{'TOKEN.IFRAME.TITLE' | translate}}</mat-card-title>
  <iframe [src]="formUrl" title="Form Iframe" width="100%" height="800"></iframe>
</mat-card>
